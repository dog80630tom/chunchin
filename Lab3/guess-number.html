<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <!--<link rel="icon" href="../../favicon.ico">-->

  <title>Guess number</title>


  <!-- Bootstrap core CSS -->

  <link href="stylesheets/bootstrap.min.css" rel="stylesheet">

  <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <link href="stylesheets/dashboard.css" rel="stylesheet">
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <!--<link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">-->

  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="Css/bootstrap-datetimepicker.min.css" rel="external nofollow">
  <script src="Js/bootstrap-datetimepicker.js"></script>
  <script src="Js/bootstrap-datetimepicker.min.js"></script>

  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <!--<script src="../../assets/js/ie-emulation-modes-warning.js"></script>-->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  <script>
    var answer;
    var dateyear03="";
    var arr = [];
   

    function lifenumbercalculate(params) {

      var date =new Date($('#date01').val());
      
     
var dateyear=date.getFullYear();
var datemouth=(date.getMonth()+1).toString();
var date02=date.getUTCDate().toString();
var answer= constellation(datemouth,date02);
var number=calculatenumber(dateyear,datemouth,date02);
lifenumber(answer,number);
}
function calculatenumber(dateyear,datemouth,date02) {
  var date03;
  var datemouth02;
  dateyear03=dateyear.toString();
  if (date02>=10){ date03=parseInt(date02[0])+parseInt(date02[1]);}
  else
   {date03=date02;};
  if(datemouth>=10) 
   {datemouth02=parseInt(datemouth[0])+parseInt(datemouth[1]);}
  else
  {datemouth02=datemouth;}
  var total=parseInt(dateyear03.substr(0,1))+parseInt(dateyear03.substr(1,1))+parseInt(dateyear03.substr(2,1))+parseInt(dateyear03.substr(3,1))+parseInt(datemouth02)+parseInt(date03);
  while(total>=10)
  {
 
     var temp = total.toString();
     total=parseInt(temp[0])+parseInt(temp[1]);

  
  }
  return total;
  $(".toast").toast('show');
}
function constellation(month,day) {
 var arr=[];
 arr.push(["capricorn", new Date("01/21")]);
    arr.push(["aquarius", new Date("02/19")]);
    arr.push(["pisces", new Date("03/20")]);
    arr.push(["aries", new Date("04/20")]);
    arr.push(["taurus", new Date("05/20")]);
    arr.push(["gemini", new Date("06/20")]);
    arr.push(["cancer", new Date("07/22")]);
    arr.push(["leo", new Date("08/22")]);
    arr.push(["virgo", new Date("09/22")]);
    arr.push(["libra", new Date("10/22")]);
    arr.push(["scorpio", new Date("11/22")]);
    arr.push(["sagittarius", new Date("12/22")]);
    arr.push(["capricorn", new Date("12/23")]);
  var datetotal=new Date(month+"/"+day);
  for(var i=0;i<arr.length;i++)
  {

    if(datetotal<=arr[i][1]) return arr[i][0];

  }
 
}
    function lifenumber(con,number) {
      $.ajax({
        type: "get",
        url: "https://buildschoolnumerology.azurewebsites.net/api/Number/Numerology?constellation="+con,
         dataType: "json",
        success: function (response) {
          $("#toast01").html(response.name+"的你:"+response.lookup[number]);
         
        }
      });
    }

    function click() {
      $("#btn1").click(lifenumbercalculate);
    }
    $(function () {
     
      $('#date01').datetimepicker({
        language: 'zh-CN', //顯示中文
        format: 'yyyy-mm-dd', //顯示格式
        minView: "month", //設定只顯示到月份
        initialDate: new Date(), //初始化當前日期
        autoclose: true, //選中自動關閉
        todayBtn: true //顯示今日按鈕
      });
      click();
    });
  </script>
</head>

<body>

  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
          aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">Project name</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="#">Dashboard</a></li>
          <li><a href="#">Settings</a></li>
          <li><a href="#">Profile</a></li>
          <li><a href="#">Help</a></li>
        </ul>
        <form class="navbar-form navbar-right">
          <input type="text" class="form-control" placeholder="Search...">
        </form>
      </div>
    </div>
  </nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-2 sidebar">
        <ul class="nav nav-sidebar">
          <li class="active"><a href="#">Overview <span class="sr-only">(current)</span></a></li>
          <li><a href="#">Reports</a></li>
          <li><a href="#">Analytics</a></li>
          <li><a href="#">Export</a></li>
        </ul>
        <ul class="nav nav-sidebar">
          <li><a href="">Nav item</a></li>
          <li><a href="">Nav item again</a></li>
          <li><a href="">One more nav</a></li>
          <li><a href="">Another nav item</a></li>
          <li><a href="">More navigation</a></li>
        </ul>
        <ul class="nav nav-sidebar">
          <li><a href="">Nav item again</a></li>
          <li><a href="">One more nav</a></li>
          <li><a href="">Another nav item</a></li>
        </ul>
      </div>
      <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12">
              <div class="btn-group btn-group-justified">

                <div class="col-xs-4">
                  <input type="text" class="form-control form_datetime" id="date01">
                </div>
                <div class="col-xs-4">
                  <input type="button" class="btn btn-dark" id="btn1" value="算靈數">
                </div>
                
                </div>
                  <div class="toast" data-autohide="false">
      <div class="toast-header">
        <strong class="mr-auto text-primary">星座解答</strong>
        
        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">&times;</button>
      </div>
      <div id="toast01" class="toast-body">
        Some text inside the toast body
      </div>
              </div>
              <br>

            </div>
          </div>
        </div>
      </div>
    </div>
  
  </div>

  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <!--<script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>-->

  <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
  <!--<script src="../../assets/js/vendor/holder.min.js"></script>-->
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <!--<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>-->
  <script>
  </script>
</body>

</html>